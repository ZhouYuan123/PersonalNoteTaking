# C++

## 1. ç®€ä»‹

1979 - 1981: C with classes

ä»1982å¹´å¼€å§‹ï¼ŒC++å¼€å§‹å®šä½ä½œä¸ºä¸€ä¸ªæ–°çš„ç¼–ç¨‹è¯­è¨€ï¼Œä½¿ç”¨ç¼–è¯‘æŠ€æœ¯é‡æ–°å®ç°äº†ã€Œå¸¦ç±»çš„Cã€ï¼Œå¯¹åº”çš„ç¼–è¯‘å™¨ä¸ºCfront

1983å¹´åº•ï¼ŒC++æ­£å¼è¢«å‘½åã€‚

```c++
#include <iostream> // a PREPROCESSOR directive, è¯¥ç¼–è¯‘æŒ‡ä»¤å¯¼è‡´é¢„å¤„ç†å™¨å°†iostreamæ–‡ä»¶çš„å†…å®¹æ·»åŠ åˆ°ç¨‹åºä¸­ã€‚è¿™æ˜¯ä¸€ç§å…¸å‹çš„é¢„å¤„ç†å™¨æ“ä½œ:åœ¨æºä»£ç è¢«ç¼–è¯‘ä¹‹å‰ï¼Œæ›¿æ¢æˆ–æ·»åŠ æ–‡æœ¬ã€‚
using namespace std;
int main(void)
{
    cout << "Hello World" << endl;
    return 0;
}
```

C++ èåˆäº†3ç§ä¸åŒçš„ç¼–ç¨‹æ–¹å¼ï¼š **è¿‡ç¨‹æ€§è¯­è¨€ + OOP + æ³›å‹ç¼–ç¨‹**

æ–‡ä»¶åç¼€: `cpp, cxx, cc`

ç¼–è¯‘ï¼š`g++ 1.cpp`, è¿è¡Œï¼š`./a.out` (é€šå¸¸,main()è¢«å¯åŠ¨ä»£ç è°ƒç”¨,è€Œå¯åŠ¨ä»£ç æ˜¯ç”±ç¼–è¯‘å™¨æ·»åŠ åˆ°ç¨‹åºä¸­çš„,æ˜¯ç¨‹åºå’Œæ“ä½œç³»ç»Ÿ(UNIXã€Windows7æˆ–å…¶ä»–æ“ä½œç³»ç»Ÿ)ä¹‹é—´çš„æ¡¥æ¢ã€‚äº‹å®ä¸Šï¼Œè¯¥å‡½æ•°å¤´æè¿°çš„æ˜¯main()å’Œæ“ä½œç³»ç»Ÿä¹‹é—´çš„æ¥å£ã€‚) å­˜åœ¨ä¸€äº›ä¾‹å¤–æƒ…å†µã€‚ä¾‹å¦‚,åœ¨ Windowsç¼–ç¨‹ä¸­,å¯ä»¥ç¼–å†™ä¸€ä¸ªåŠ¨æ€é“¾æ¥åº“(DLL)æ¨¡å—,è¿™æ˜¯å…¶ä»– Windowsç¨‹åºå¯ä»¥ä½¿ç”¨çš„ä»£ç ã€‚ç”±äº DLL æ¨¡å—ä¸æ˜¯ç‹¬ç«‹çš„ç¨‹åºï¼Œå› æ­¤ä¸éœ€è¦ main()ã€‚ç”¨äºä¸“ç”¨ç¯å¢ƒçš„ç¨‹åº--å•ç‰‡æœºï¼Œåªéœ€è¦ä»£ç åœ°å€ï¼Œä¹Ÿä¸éœ€è¦main.

ğŸŸ© **ä¸C** ğŸŸ©

C++æ˜¯Cè¯­è¨€çš„è¶…é›†ï¼Œä»»ä½•æœ‰æ•ˆçš„Cç¨‹åºéƒ½æ˜¯æœ‰æ•ˆçš„C++ç¨‹åºã€‚

Cæä¾›äº†ä½çº§ç¡¬ä»¶è®¿é—®ï¼ŒOOPæä¾›äº†é«˜çº§æŠ½è±¡ã€‚

ç‰ˆæœ¬: **C++98**ï¼Œ**C++11**ï¼Œ**C++17**

 **å¤´æ–‡ä»¶** 

è½¬æ¢åçš„CåŠ ä¸Šå‰ç¼€Cï¼Œæ²¡æœ‰æ‰©å±•åï¼Œä¾‹å¦‚ `cstdio`, `cmath`ï¼Œ`ctype`ç­‰ã€‚

`#include <cstdio> ` : `cstdio` æºæ–‡ä»¶ä¸­è¿˜æ˜¯ `#include <stdio.h> `

 **char** 

`\n ` ä¸ `endl` : å‰è€…åªæ¢è¡Œï¼Œåè€…æ¢è¡Œå¹¶ + `fflush(stdin)`(ç«‹å³è¾“å‡º)

```c++
cout << "25"; // printf("%s\n", "25");
cout << 25; // printf("%d\n", 25);
```

`wchar_t` : å®½å­—ç¬¦ç±»å‹, å¯ä»¥è¡¨ç¤ºæ‰©å±•å­—ç¬¦é›†. C++11æ–°å¢çš„ç±»å‹:char16_t å’Œ char32_t

æ–°çš„æ•°æ®ç±»å‹stringã€‚

## 2. æ•°æ®ç±»å‹

| æ•´å‹      | é•¿åº¦                                                        |
| --------- | ----------------------------------------------------------- |
| char      | 8bit                                                        |
| short     | short è‡³å°‘ 16 ä½                                            |
| int       | int è‡³å°‘ä¸ short ä¸€æ ·é•¿                                     |
| long      | long è‡³å°‘ 32 ä½ï¼Œä¸”è‡³å°‘ä¸ int ä¸€æ ·é•¿                        |
| long long | long long è‡³å°‘ 64 ä½ï¼Œä¸”è‡³å°‘ä¸ long ä¸€æ ·é•¿ã€‚(**C++11æ–°å¢**) |

## 3. cinå’Œcoutæµ

```c++
// cin
int abc;
cin >> abc;

// cout
// å¼ºåˆ¶ä»¥å°æ•°çš„æ–¹å¼æ˜¾ç¤º
cout << fixed;

cout << hex; // ä»¥16è¿›åˆ¶æ˜¾ç¤º
cout << oct; // å…«è¿›åˆ¶

// æ§åˆ¶æ˜¾ç¤ºçš„å°æ•°çš„ä½æ•° <iomanip>
cout << cout.setprecision(2);
cout.setf(); // ä¿ç•™å°æ•°ç»“å°¾0. couté»˜è®¤ä¼šåˆ é™¤å°æ•°ç»“å°¾çš„0, é»˜è®¤6ä½å°æ•°

// è®¾ç½®æ‰“å°å®½åº¦ <iomanip> é»˜è®¤å³å¯¹é½
int n = 10;
cout << left;
cout << setfill('_');
cout << setw(n) << 3.14; // _____3.14

// å¯ä»¥æ‰“å°å‡º 'true' 'false'
cout << boolalpha;
bool flag = true;
cout << flag;	// è¾“å‡º "1"ï¼Œä½¿ç”¨äº† boolalpha åˆ™æ˜¯ "true"

char a = 'A'; // å­—é¢å€¼65
int b = a;
a = a + 1;
cout << a; // B
cout << b; // 65
cout.put('a'); // ç”¨æ¥è¾“å‡ºå­—ç¬¦

// 2.é”®ç›˜å½•å…¥
int num;
char ch1, ch2;
cin >> num; // å¯ä»¥ä¸€æ¬¡è¾“å…¥13abï¼Œç„¶åç¨‹åºæ‰§è¡ŒæˆåŠŸï¼Œåˆ†å¼€è¯»å–
cin >> ch1;
cin >> ch2;

char ch3;
cin >> ch3; // é”®å…¥5å°±æ˜¯å­—ç¬¦â€˜5â€™

// 3.åˆå§‹åŒ–
int wrens(432); // wrens = 432
int abc {123}; // ğŸŸ¥æ„åœ¨å¸Œæœ›ä»»æ„æ•°æ®ç±»å‹éƒ½å¯ä»¥ä½¿ç”¨{}ğŸŸ¥
int rheas = {123};
int abc {}; 	// abc = 0
int rheas = {}; // rheas = 0

int a = int(99.9);
int a = (int)99.9;
```

å½“è¡Œæ³¨é‡Šï¼š`//`

æ–‡æ¡£æ³¨é‡Š : `/** æ–‡æ¡£æ³¨é‡Š */`

* é¢å‘è¿‡ç¨‹ï¼šå°±æ˜¯åˆ†æå‡ºè§£å†³é—®é¢˜æ‰€éœ€è¦çš„æ­¥éª¤ï¼Œç„¶åç”¨å‡½æ•°æŠŠè¿™äº›æ­¥éª¤ä¸€æ­¥ä¸€æ­¥å®ç°ï¼Œä½¿ç”¨çš„æ—¶å€™å†ä¸€ä¸ªä¸€ä¸ªçš„ä¾æ¬¡è°ƒç”¨å°±å¯ä»¥äº†ã€‚
* é¢å‘å¯¹è±¡ï¼šæ˜¯æŠŠäº‹åŠ¡åˆ†è§£æˆä¸ºä¸€ä¸ªä¸ªå¯¹è±¡ï¼Œç„¶åç”±å¯¹è±¡ä¹‹é—´åˆ†å·¥ä¸åˆä½œ
  * ç‰¹ç‚¹ï¼šå°è£…ï¼Œç»§æ‰¿ï¼Œå¤šæ€

## 4. vector

<font color="green">**æ•°ç»„**</font>

`int arr[n]` : nå¯ä»¥æ˜¯å˜é‡ï¼Œä½†åœ¨Cè¯­è¨€ä¸­nå¿…é¡»æ˜¯å¸¸é‡ã€‚

`int days[]{1, 15}`, `int days[100]{}` ï¼šC++11

<font color="green">**vector**</font>

```c++
// åˆå§‹åŒ–
vector<int> vec; // ä½¿ç”¨æ— å‚çš„æ„é€ å‡½æ•°åˆ›å»ºä¸€ä¸ªç©ºçš„vectorå®¹å™¨ã€‚
vector<int> vec = {1, 2, 3, 4, 5}; // ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨åˆå§‹åŒ–
vector<int> vec(5); // å…ƒç´ ä¸º {0, 0, 0, 0, 0}
vector<int> vec(5, 10); // å…ƒç´ ä¸º {10, 10, 10, 10, 10}
vector<int> vec2(vec.begin(), vec.end()); // åˆå§‹åŒ–ä¸€ä¸ªä¸vecå…·æœ‰ç›¸åŒå…ƒç´ çš„vectorå®¹å™¨
vector<int> vec3(vec); // å¤åˆ¶ä¸€ä¸ªä¸vecç›¸åŒçš„vectorå®¹å™¨

clear(); // ç§»é™¤å®¹å™¨ä¸­çš„æ‰€æœ‰æ•°æ®
empty(); // åˆ¤æ–­å®¹å™¨æ˜¯å¦ä¸ºç©º
[index]ã€at(index) // è¿”å›ç´¢å¼•ä¸ºindexçš„å…ƒç´ 
erase(pos); // åˆ é™¤posä½ç½®å¤„çš„æ•°æ®
erase(beg, end); // åˆ é™¤[beg,end)åŒºé—´çš„æ•°æ®
front(); // è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ 
insert(pos, elem); // åœ¨posä½ç½®å¤„æ’å…¥ä¸€ä¸ªå…ƒç´ 
pop_back(); // åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ 
push_back(elem); // åœ¨å®¹å™¨æœ«å°¾æ’å…¥ä¸€ä¸ªå…ƒç´ 
resize(num); // é‡æ–°è®¾ç½®å®¹å™¨å¤§å°
```

```c++
// éå†
vector<int> vec = {1, 2, 3, 4, 5};
for (size_t i = 0; i < vec.size(); i++) {
    cout << vec[i] << " ";
}

vector<int> vec = {1, 2, 3, 4, 5};
for (auto it = vec.begin(); it != vec.end(); ++it) {
    cout << *it << " ";
}

// C++11
vector<int> vec = {1, 2, 3, 4, 5};
for (const auto& num : vec) {
    cout << num << " ";
}

// ä½¿ç”¨C++11ä¸­çš„èŒƒå›´-forå¾ªç¯ï¼Œå¯ä»¥ä½¿ç”¨autoå…³é”®å­—è‡ªåŠ¨æ¨å¯¼æ•°æ®ç±»å‹ï¼š
vector<int> vec = {1, 2, 3, 4, 5};
for (auto num : vec) {
    cout << num << " ";
}

#include <iterator>
#include <algorithm>
copy(vec.cbegin(), vec.cend(), ostream_iterator<int>(cout, "åˆ†å‰²ç¬¦"));

// æ’åº ä½¿ç”¨algorithm ä¸­çš„ sort()
```

## 5. æŒ‡é’ˆä¸å†…å­˜

`nullptr` : ç©ºæŒ‡é’ˆï¼Œ0ï¼›

```c++
// å¼•ç”¨ referenceï¼Œåªèƒ½æŒ‡å‘å˜é‡ï¼Œå¿…é¡»ç«‹å³åˆå§‹åŒ–
int int_value = 1024;
int& refValue = int_value; // int* const refValue = &int_value;
refValue = 10; // *refValue = 10;

const double& d = 12.3; // å¸¸é‡å¼•ç”¨
```

**åŠ¨æ€å†…å­˜**

```c++
int * p = new int;
delete p; // é‡Šæ”¾å†…å­˜ï¼Œé‡å¤é‡Šæ”¾æŠ¥é”™ï¼Œdelete ç©ºæŒ‡é’ˆæ˜¯å®‰å…¨çš„

int * intArray = new int[10];
delete [] intArray;
```

## 6. å‡½æ•°

### 6.1 å†…ç½®å‡½æ•°

STLå’ŒBoost C++

![](../imgs/Cpp/function.jpg)

```c++
#include <cmath>
int x = sqrt(6.25); // å¹³åˆ†æ ¹: 2.5
double pow(double, double); // å¹³æ–¹
```

### 6.2 å¼•ç”¨

æ•°ç»„åœ¨ä½œä¸ºå‚æ•°ä¼ é€’æ—¶å®é™…ä¸Šæ˜¯é€€åŒ–ä¸ºæŒ‡é’ˆçš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ•°ç»„åä½œä¸ºå‡½æ•°å‚æ•°æ—¶ï¼Œä¼ é€’çš„æ˜¯æŒ‡å‘æ•°ç»„é¦–å…ƒç´ çš„æŒ‡é’ˆã€‚å› æ­¤ï¼Œå¦‚æœæ•°ç»„ä½œä¸ºå‚æ•°ä»¥å¼•ç”¨çš„æ–¹å¼ä¼ é€’ï¼Œå®é™…ä¸Šæ˜¯æŒ‡é’ˆçš„å¼•ç”¨ï¼Œè€Œä¸æ˜¯æ•°ç»„çš„å¼•ç”¨ã€‚

* ä¸å¯ä»¥è¿”å›æ•°ç»„ç±»å‹ã€‚
* ä¸è¦è¿”å›å±€éƒ¨å˜é‡çš„å¼•ç”¨ã€‚
* è¿”å›å¼•ç”¨æ—¶ï¼Œè¦æ±‚å‡½æ•°å‚æ•°ä¸­åŒ…å«è¢«è¿”å›çš„å¼•ç”¨å¯¹è±¡ã€‚

```c++
// å‡½æ•°å¯ä»¥ä¸è¿”å›å€¼ï¼Œé»˜è®¤è¿”å›ä¼ å…¥çš„å¼•ç”¨å¯¹è±¡æœ¬èº«
int& sum(int& num1, int& num2)
{
    num1++;
    num2++; // è¿”å›ä¿®æ”¹åçš„num2, å³é»˜è®¤è¿”å›æœ€åä¸€ä¸ªæ›´æ–°çš„å¼•ç”¨å‡½æ•°
}
int& sum(int& num1, int& num2)
{
    num1++;
    num2++;
    return num1 + num2; // è¿”å›ä¿®æ”¹åçš„num1
}

// è¿”å›å€¼åŠ consté¿å…å·¦å€¼ä¿®æ”¹
const int& sum(int& num){}
sum(num) = 55; // æŠ¥é”™
```

### 6.3 å‚æ•°

```c++
// æ— åå‚æ•°
void foo(int);

// é»˜è®¤å‚æ•°
void sample(int = 10);
void sample(int num)
{
    cout << num << endl;
}

int main()
{
    sample();
    sample(123);
}
// 1. é»˜è®¤å€¼å¯ä»¥åœ¨å‡½æ•°åŸå‹åŸŸå®šä¹‰ä¸­ç»™å‡ºï¼Œä¸èƒ½åœ¨è¿™ä¸¤ä¸ªä½ç½®åŒæ—¶å‡ºç°
// 2. å¯¹å¹²å¸¦å‚æ•°åˆ—è¡¨çš„å‡½æ•°ï¼Œå¿…é¡»ä»å³å‘å·¦æ·»åŠ é»˜è®¤å€¼
void test1(int a, int b = 5, int c = 10);
test(1); // å¦‚æœå­˜åœ¨void test1(int a);ä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•
test(1, 2);

// overloading
// éå¼•ç”¨ç±»å‹å’Œå¼•ç”¨ç±»å‹ä¸èƒ½æ„æˆé‡è½½ï¼ŒæŠ¥é”™ã€‚(é‡è½½å†³è®® æ—¶ä¸åŒºåˆ†å¼•ç”¨)
// constä¸æ„æˆé‡è½½

// å‡½æ•°çš„ç»“å°¾å£°æ˜ä¸ºconst, å‡½æ•°å†…éƒ¨ä¸å…è®¸ä¿®æ”¹å¯¹è±¡æœ¬èº«ã€‚
```

### 6.4 å‡½æ•°æ¨¡æ¿

Function Template

```c++
// å‡½æ•°å£°æ˜
template<typename T> void Swap(T&, T&);
template<typename T> // æ¨¡æ¿å¤´
void Swap(T &a, T &b)
{
    T temp = a;
    a = b;
    b = temp;
}
```

## 7. å¯¹è±¡

### 7.1 æˆå‘˜

å…³é”®å­—class

* é»˜è®¤æˆå‘˜æ˜¯ç§æœ‰ï¼Œ(structé»˜è®¤æ˜¯å…±æœ‰)
* `::` : ä½œç”¨åŸŸè§£æè¿ç®—ç¬¦ã€‚

hppæ–‡ä»¶ä¸€èˆ¬åŒ…å«å®ç°çš„å†…è”å‡½æ•°,é€šå¸¸ç”¨äºæ¨¡æ¿ç±»è¿™ç§å£°æ˜ä¸å®ç°å…±å­˜çš„æƒ…å†µã€‚

å»ºè®®: åªè¦ä¸æ˜¯çº¯æ¨¡æ¿ï¼Œä¸€å¾‹ä½¿ç”¨.hä½œä¸ºå¤´æ–‡ä»¶åç¼€ï¼Œä½¿ç”¨.cppæ–‡ä»¶ä½œä¸ºå‡½æ•°çš„å®ç°æ–‡ä»¶ã€‚

<font color="green">**è®¿é—®ä¿®é¥°ç¬¦**</font>

> public : ä¿®é¥°çš„æˆå‘˜åœ¨ä»»æ„åœ°æ–¹éƒ½å¯ä»¥è®¿é—®
>
> private : ä¿®é¥°çš„æˆå‘˜åªèƒ½å¤Ÿåœ¨ç±»ä¸­æˆ–è€…å‹å…ƒå‡½æ•°ä¸­å¯ä»¥è®¿é—®
>
> protected : ä¿®é¥°çš„æˆå‘˜å¯ä»¥åœ¨ç±»ä¸­å‡½æ•°ã€å­ç±»å‡½æ•°åŠå‹å…ƒå‡½æ•°ä¸­è®¿é—®

<font color="green">**å¯¹è±¡åˆ›å»º**</font>

```c++
Person person(); // X, è¿™æ˜¯ä¸€ä¸ªå‡½æ•°å£°æ˜
Person person; // éšå¼è°ƒç”¨é»˜è®¤æ„é€ 
Person person = Person(); // æ˜¾å¼è°ƒç”¨é»˜è®¤æ„é€ 
Person *pPerson = new Person();
Person *pPerson = new Person;

Person person2("name2", 27);// ä¼šåˆ›å»ºä¸´æ—¶å¯¹è±¡
Person person = Person("name1", 26); // æ˜¾ç¤ºè°ƒç”¨ã€‚åˆ›å»ºä¸€ä¸ªä¸´æ—¶å¯¹è±¡ï¼Œç„¶åå°†ä¸´æ—¶å¯¹è±¡å¤åˆ¶åˆ°personä¸­
Person *pPerson3 = new Person("name3", 8);// ä¸ä¼šåˆ›å»ºä¸´æ—¶å¯¹è±¡
Person person = 25; // å½“æ„é€ æ–¹æ³•å½¢å‚åªæœ‰ä¸€ä¸ªå¯ä»¥ç”¨ç­‰å·ï¼Œç¼–è¯‘å™¨è‡ªåŠ¨è°ƒç”¨æ„é€ ã€‚å«è½¬æ¢æ„é€ ã€‚

// C++11ï¼Œåˆ—è¡¨åˆå§‹åŒ–ã€‚åªè¦æä¾›çš„å¤§æ‹¬å·åˆ—è¡¨ä¸­çš„æ•°æ®ä¸æŸä¸ªæ„é€ å‡½æ•°çš„å‚æ•°åˆ—è¡¨åŒ¹é…å°±å¯ä»¥ã€‚
Person person{};// ä¸é»˜è®¤æ„é€ å‡½æ•°ç›¸åŒ¹é…
Person person = Person{};
Person *pPerson = new Person{};
Person person4 = {};

Person person{"name5", 26};
Person person5 = Person{"name5", 26};// c++11ï¼Œä¼šåˆ›å»ºä¸´æ—¶å¯¹è±¡
Person *pPerson6 = new Person{"name6", 26};// c++11ï¼Œä¸ä¼šåˆ›å»ºä¸´æ—¶å¯¹è±¡
Person person4 = {"name4", 26};// c++11ï¼Œä¼šåˆ›å»ºä¸´æ—¶å¯¹è±¡

// æ‹·è´æ„é€ å‡½æ•°
Person person2(person); // ä½¿ç”¨æ‹·è´æ„é€ å‡½æ•°åˆ›å»ºæ–°å¯¹è±¡

// é‡è½½èµ‹å€¼è¿ç®—ç¬¦
Person person2 = person; // ä½¿ç”¨é‡è½½ç­‰äºå·è¿ç®—ç¬¦èµ‹å€¼
```

### 7.2 å‡½æ•°

<font color="green">**æ„é€ å‡½æ•°**</font>

> åå­—è·Ÿç±»åç›¸åŒã€‚
>
> æ²¡æœ‰è¿”å›å€¼ç±»å‹ã€‚
>
> è‡ªå®šä¹‰äº†æ„é€ å‡½æ•°ï¼Œç³»ç»Ÿå°±ä¸ä¼šå†è‡ªåŠ¨ç”Ÿæˆé»˜è®¤æ„é€ ã€‚

<font color="green">**æ‹·è´æ„é€ **</font>

```c++
class MyClass {
public:
    int x;
    // æ‹·è´æ„é€ å‡½æ•°
    MyClass(const MyClass& other) {
        x = other.x;
    }
};

int main() {
    MyClass obj1(42); // æ™®é€šæ„é€ å‡½æ•°
    MyClass obj2(obj1); // æ‹·è´æ„é€ å‡½æ•°
    return 0;
}
```

<font color="green">**è½¬æ¢æ„é€ **</font>

```c++
// åªæœ‰ä¸€ä¸ªå‚æ•°çš„æ„é€ å«è½¬æ¢æ„é€ 
class MyClass {
public:
    MyClass(int x) {
        // å°† int ç±»å‹çš„å€¼è½¬æ¢ä¸º MyClass ç±»å‹çš„å¯¹è±¡
    }
};

int main() {
    MyClass myObject = 10;  // ä½¿ç”¨è½¬æ¢æ„é€ å‡½æ•°å°† int ç±»å‹çš„å€¼è½¬æ¢ä¸º MyClass ç±»å‹çš„å¯¹è±¡
    myObject = myObject +'A' + false; // å°†char, booléƒ½è½¬æ¢ä¸ºMyClassç±»å‹å†è¿ç®—
    return 0;
}
```

<font color="green">**ææ„å‡½æ•°**</font>

> å¯¹è±¡è¿‡æœŸæ—¶è‡ªåŠ¨è°ƒç”¨çš„ç‰¹æ®Šæˆå‘˜å‡½æ•°
>
> ææ„å‡½æ•°ä¸€èˆ¬ç”¨æ¥å®Œæˆæ¸…ç†å·¥ä½œ
>
> ææ„å‡½æ•°çš„åç§°æ˜¯åœ¨ç±»åå‰åŠ ä¸Š~
>
> ææ„å‡½æ•°æ²¡æœ‰å‚æ•°ï¼Œåªèƒ½æœ‰ä¸€ä¸ª

<font color="green">**ç±»å‹è½¬æ¢å‡½æ•°**</font>



<font color="green">**åˆå§‹åŒ–å‚æ•°åˆ—è¡¨**</font>

```c++
class Example {
public:
    Example(int a, int b) : num1(a), num2(b)
    {
        // num1 = a;
        // num2 = b;
    }

private:
    int num1;
    int num2;
}
```

<font color="green">**thisæŒ‡é’ˆ**</font>

* æ¯ä¸ªæˆå‘˜å‡½æ•°( åŒ…æ‹¬æ„é€ å’Œææ„ )éƒ½æœ‰ä¸€ä¸ªthisæŒ‡é’ˆ
* thisæŒ‡é’ˆæŒ‡å‘è°ƒç”¨å¯¹è±¡ï¼Œå³å¯ä»¥é€šè¿‡thiså…³é”®å­—è®¿é—®å½“å‰å¯¹è±¡çš„æˆå‘˜
* thisæŒ‡é’ˆçš„ç±»å‹ä¸ºç±»ç±»å‹*const(const ç±»å\*), ä¸ºå³å€¼
* thisæŒ‡é’ˆæ˜¯ç±»æˆå‘˜å‡½æ•°çš„ç¬¬ä¸€ä¸ªé»˜è®¤éšå«å‚æ•°ï¼Œç¼–è¯‘å™¨è‡ªåŠ¨ç»´æŠ¤ä¼ é€’ï¼Œç±»ç¼–å†™è€…ä¸èƒ½æ˜¾å¼ä¼ é€’
* åªæœ‰åœ¨ç±»çš„éé™æ€æˆå‘˜å‡½æ•°ä¸­æ‰å¯ä»¥ä½¿ç”¨thisæŒ‡é’ˆï¼Œå…¶å®ƒä»»ä½•å‡½æ•°éƒ½ä¸å¯ä»¥

```c++
// è¿”å›å¯¹è±¡çš„å¼•ç”¨
class MyClass {
public:
    MyClass& getReference() {
        return *this;
    }
}
```

## 8. const

```c++
// 1. ä¿®é¥°å˜é‡
const int x = 10;
x = 20;  // ç¼–è¯‘é”™è¯¯ï¼Œxæ˜¯åªè¯»å˜é‡ï¼Œä¸èƒ½ä¿®æ”¹å…¶å€¼

// 2. ä¿®é¥°å‡½æ•°å‚æ•°
void func(const int x) {
    x = 20;  // ç¼–è¯‘é”™è¯¯ï¼Œxæ˜¯åªè¯»å‚æ•°ï¼Œä¸èƒ½ä¿®æ”¹å…¶å€¼ã€‚
    // å¦‚æœå‚æ•°æ˜¯constå¼•ç”¨ï¼Œåªèƒ½è°ƒç”¨è¯¥å¼•ç”¨å¯¹è±¡çš„constæˆå‘˜å’Œconstæ–¹æ³•ã€‚
}

// 3. ä¿®é¥°å‡½æ•°è¿”å›å€¼
const int func() {
    int x = 10;
    return x;
}

int main() {
    int value = func();
    value = 20;  // å¯ä»¥ä¿®æ”¹valueçš„å€¼ï¼Œä½†æ˜¯ä¸èƒ½ä¿®æ”¹func()è¿”å›çš„å€¼
}

// 4. ä¿®é¥°æˆå‘˜å‡½æ•°
class MyClass {
public:
    int x;

    void func() {
        x = 10;
    }

    void constFunc() const {
        // x = 10;  // ç¼–è¯‘é”™è¯¯ï¼Œä¸èƒ½åœ¨constæˆå‘˜å‡½æ•°ä¸­ä¿®æ”¹æˆå‘˜å˜é‡
    }
}

int main() {
    const MyClass obj;
    obj.func();  // ç¼–è¯‘é”™è¯¯ï¼Œä¸èƒ½åœ¨å¸¸é‡å¯¹è±¡ä¸Šè°ƒç”¨éconstæˆå‘˜å‡½æ•°
    obj.constFunc();  // å¯ä»¥åœ¨å¸¸é‡å¯¹è±¡ä¸Šè°ƒç”¨constæˆå‘˜å‡½æ•°
}
```

## 9. è¿ç®—ç¬¦é‡è½½

å¯¹äºå†…ç½®æ•°æ®ç±»å‹ä¸èƒ½å®ç°è¿ç®—ç¬¦é‡è½½ã€‚

**åŠ å·è¿ç®—ç¬¦+**

```c++
class MyClass {
public:
    int value;
    MyClass(int num) {
        value = num;
    }

    MyClass operator+(const MyClass& other) {
        MyClass result(value + other.value);
        return result;
    }
};

int main() {
    MyClass obj1(10);
    MyClass obj2(20);
    MyClass result = obj1 + obj2;
    // å°† obj1 å’Œ obj2 ç›¸åŠ ï¼Œå°†ç»“æœèµ‹ç»™ result
    // result çš„ value æˆå‘˜å˜é‡å°†è¢«èµ‹å€¼ä¸º 30
}

// å‹å…ƒå‡½æ•°é‡è½½
// åœ¨C++ä¸­ï¼Œä¸€ä¸ªå‡½æ•°å¯ä»¥æˆä¸ºå¦ä¸€ä¸ªç±»çš„å‹å…ƒï¼Œåªè¦åœ¨ç±»å®šä¹‰ä¸­åŒ…å«ä¸€ä¸ªå‹å…ƒå£°æ˜ã€‚å‹å…ƒå‡½æ•°ä¸å—ç±»çš„è®¿é—®æ§åˆ¶é™åˆ¶ï¼Œå¯ä»¥è®¿é—®ç±»çš„æ‰€æœ‰æˆå‘˜ï¼ŒåŒ…æ‹¬ç§æœ‰æˆå‘˜å’Œä¿æŠ¤æˆå‘˜ã€‚
#include <iostream>
class MyClass {
public:
    MyClass(int value) : myValue(value) {}
    // å£°æ˜å‹å…ƒå‡½æ•°
    friend MyClass operator+(const int& obj1, const MyClass& obj2);
private:
    int myValue;
};

// å®šä¹‰å‹å…ƒå‡½æ•°
MyClass operator+(const int& obj1, const MyClass& obj2) {
    MyClass newObj(obj1); // å°†ç¬¬ä¸€ä¸ªå‚æ•°ä½œä¸ºæ„é€ å‡½æ•°çš„å‚æ•°ï¼Œä»¥ä¾¿å°†å…¶è½¬æ¢ä¸ºintç±»å‹
    newObj.myValue += obj2.myValue; // æ‰§è¡ŒåŠ æ³•æ“ä½œ
    return newObj;
}

int main() {
    MyClass myObj1(5);
    MyClass myObj2(10);
    MyClass myObj3 = 1 + myObj2; // ä½¿ç”¨åŠ å·é‡è½½
    std::cout << "The value of myObj3 is: " << myObj3.myValue << std::endl;
    return 0;
}
```

**å·¦ç§»è¿ç®—ç¬¦<<**

```c++
ostream& operator<<(ostream &cout, Object &other)
{
    cout << "" << "";
    return cout;
}
```

**é€’å¢è¿ç®—ç¬¦++**

```c++
Object& operator++()
{
    //è¯­å¥
    return
}
Object operator++(int) //åç½®é€’å¢ï¼Œä¸è¦è¿”å›å¼•ç”¨
{
    //è¯­å¥
    return
}
```

**èµ‹å€¼è¿ç®—ç¬¦=**

```c++
new int(); // è¿”å›çš„æ˜¯ int *
Object& operator=(Object &other)
{
    if (this != &other) {
         name_ = other.name_;
         age_ = other.age_;
    }
    return *this;
}
```

**ä»¿å‡½æ•°()**

```c++
void operation()(string test)
{

}
å¯¹è±¡å("AAA"); // è°ƒç”¨
```

![](../imgs/Cpp/overloadoperation.jpg)

![](../imgs/Cpp/nooverloadoperation.jpg)



## 11. æ–‡ä»¶æ“ä½œ

### 11.1 æ–‡æœ¬æ–‡ä»¶æ ¼å¼

æ–‡æœ¬ä»¥ASCIIç çš„å½¢å¼å­˜å‚¨åœ¨è®¡ç®—æœºä¸­ã€‚

```c++
#include <fstream> // è¯»å†™æµ
ofstream ofs;
ofs.open("æ–‡ä»¶è·¯å¾„", ios::out); // å†™æ–‡ä»¶
ofs << "å†…å®¹1" << endl;
ofs << "å†…å®¹2" << endl;
ofs.close();
```

```c++
#include <fstream>
ifstream ifs
ifs.open("æ–‡ä»¶è·¯å¾„", ios::in);
if(ifs.is_open()){
    char buf[1024] = {0};
    // ç¬¬ä¸€ç§
    while (ifs >> buf){
        cout << buf << endl;
    }
    // ç¬¬äºŒç§
    while (ifs.getline(buf, sizeof(buf))){
        cout << buf << endl;
    }
    // ç¬¬ä¸‰ç§
    string buf;
    while (getline(ifs, buf)){ 
        cout << buf << endl;
    }
    // ç¬¬å››ç§
    char c;
    while ((c = ifs.get()) != EOF){ 
        cout << c;
    }
}
ifs.close();
```

### 11.2 äºŒè¿›åˆ¶æ–‡ä»¶

äºŒè¿›åˆ¶å­˜å‚¨ï¼Œæ— æ³•è¯»æ‡‚ã€‚

åŒç†ï¼šåªéœ€è¦ä½¿ç”¨ `ofs.open("æ–‡ä»¶è·¯å¾„", ios::out | ios::binary);`

==========
